{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-4">Simulation Comparison: {{ simulation.name|default:simulation.simulation_id }}</h1>
    {% if messages %}
        <div class="mb-4">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} p-4 rounded-lg shadow-md">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
    <div class="mb-4">
        <h2 class="text-2xl font-semibold">Simulation Parameters</h2>
        <ul class="list-disc pl-5">
            <li>Lattice Size: {{ simulation.lattice_size }}</li>
            <li>Steps: {{ simulation.steps }}</li>
            <li>Temperature: {{ simulation.temperature }} K</li>
            <li>Flux: {{ simulation.flux }} ML/s</li>
            <li>Impurity Concentration: {{ simulation.impurity_concentration }}</li>
            <li>Diffusion Barriers: X={{ simulation.diffusion_x }} eV, Y={{ simulation.diffusion_y }} eV, Z={{ simulation.diffusion_z }} eV</li>
            <li>Impurity Effect: {{ simulation.impurity_effect }}</li>
        </ul>
    </div>
    <div class="mb-4">
        <h2 class="text-2xl font-semibold">Comparison Results</h2>
        <pre class="bg-gray-100 p-4 rounded-lg whitespace-pre-wrap">{{ comparison_result }}</pre>
    </div>
    {% if simulation.html_plot %}
        <div class="mb-4">
            <h2 class="text-2xl font-semibold">Simulation Plot</h2>
            {{ simulation.html_plot|safe }}
        </div>
    {% endif %}
    {% if simulation.comparison_plot %}
        <div class="mb-4">
            <h2 class="text-2xl font-semibold">Comparison Plots</h2>
            {{ simulation.comparison_plot|safe }}
        </div>
    {% endif %}
    <a href="{% url 'saved_simulations' %}" class="btn btn-primary mt-4">Back to Saved Simulations</a>
</div>
{% endblock %}